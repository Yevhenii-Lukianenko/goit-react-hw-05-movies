{"version":3,"file":"static/js/943.52119745.chunk.js","mappings":"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","sources":["components/MoviePage/MoviePage.styled.jsx","components/MoviePage/AdditionalInfo/AdditionalInfo.styled.jsx","components/MoviePage/AdditionalInfo/AdditionalInfo.jsx","components/MoviePage/MoviePage.jsx","services/api.jsx"],"sourcesContent":["import styled from '@emotion/styled';\nimport { Link } from 'react-router-dom';\n\nexport const BackButton = styled(Link)`\n  display: inline-block;\n  margin-bottom: 20px;\n  padding: 10px 15px;\n  background-color: #4c4c4c;\n  border-radius: 6px;\n  &:hover {\n    color: #292929;\n    background-color: tomato;\n  }\n`;\n\nexport const MovieCard = styled.div`\n  display: flex;\n  gap: 40px;\n  margin-bottom: 20px;\n`;\n\nexport const Image = styled.img`\n  width: 275px;\n`;\n\nexport const DetailContainer = styled.div``;\n\nexport const MovieTitle = styled.h2`\n  font-size: 36px;\n`;\n\nexport const PartTitle = styled.h3`\n  margin-top: 32px;\n`;\n\nexport const Text = styled.p`\n  margin-top: 12px;\n`;\n","import styled from '@emotion/styled';\nimport { NavLink } from 'react-router-dom';\n\nexport const AddInfoContainer = styled.div`\n  margin: 20px 0;\n`;\n\nexport const PartTitle = styled.h3`\n  margin-bottom: 20px;\n`;\n\nexport const LinkList = styled.ul`\n  display: flex;\n  flex-direction: column;\n  gap: 12px;\n`;\n\nexport const LinkItem = styled.li``;\n\nexport const MoreInfoLink = styled(NavLink)`\n  display: inline-block;\n  &:hover {\n    color: tomato;\n  }\n  &.active {\n    color: tomato;\n  }\n`;\n","import { useParams } from 'react-router-dom';\nimport {\n  AddInfoContainer,\n  PartTitle,\n  LinkList,\n  LinkItem,\n  MoreInfoLink,\n} from './AdditionalInfo.styled';\n\nexport const AdditionalInfo = () => {\n  const { movieId } = useParams();\n\n  return (\n    <AddInfoContainer>\n      <PartTitle>Additional information</PartTitle>\n      <LinkList>\n        <LinkItem>\n          <MoreInfoLink to={`/movies/${movieId}/cast`}>Cast</MoreInfoLink>\n        </LinkItem>\n        <LinkItem>\n          <MoreInfoLink to={`/movies/${movieId}/reviews`}>Reviews</MoreInfoLink>\n        </LinkItem>\n      </LinkList>\n    </AddInfoContainer>\n  );\n};\n","import { useState, useEffect, Suspense } from 'react';\nimport { useParams, useLocation, Outlet } from 'react-router-dom';\nimport defaultMovieImg from '../../images/defaultMovieImg.png';\nimport { Loader } from 'components/Loader/Loader';\nimport {\n  BackButton,\n  MovieCard,\n  Image,\n  DetailContainer,\n  MovieTitle,\n  PartTitle,\n  Text,\n} from './MoviePage.styled';\nimport { AdditionalInfo } from './AdditionalInfo/AdditionalInfo';\nimport API from 'services/api';\nconst api = new API();\n\nconst MoviePage = () => {\n  const [movie, setMovie] = useState([]);\n  const [lastLocation, setlastLocation] = useState([]);\n  const [isLoading, setLoading] = useState(false);\n  const location = useLocation();\n  const { movieId } = useParams();\n\n  useEffect(() => {\n    if (lastLocation.pathname && lastLocation.pathname.includes(movieId)) {\n      return;\n    }\n    return setlastLocation(location);\n  }, [location, movieId, lastLocation]);\n\n  const backLinkHref = lastLocation.state?.from ?? '/';\n\n  useEffect(() => {\n    setLoading(true);\n    const fetchMovies = async () => {\n      const movieById = await api.getMovieDetails(movieId);\n      setMovie(movieById);\n      setLoading(false);\n    };\n\n    fetchMovies();\n  }, [movieId]);\n\n  const { genres, poster_path, title, vote_average, overview } = movie;\n  const genresList = genres ? genres.map(genre => genre.name) : [];\n\n  return (\n    <>\n      {!isLoading ? (\n        <div>\n          <BackButton to={backLinkHref}>Go back</BackButton>\n\n          <MovieCard>\n            <Image\n              src={\n                poster_path\n                  ? `https://image.tmdb.org/t/p/w400${poster_path}`\n                  : defaultMovieImg\n              }\n              alt={title}\n            />\n\n            <DetailContainer>\n              <MovieTitle>{title}</MovieTitle>\n              <Text>{`User score: ${Number(vote_average * 10).toFixed(\n                2\n              )}%`}</Text>\n              <PartTitle>Overview</PartTitle>\n              <Text>{overview}</Text>\n              {genresList.length > 0 && (\n                <>\n                  <PartTitle>Genres</PartTitle>\n                  <Text>{genresList.join(', ')}</Text>\n                </>\n              )}\n            </DetailContainer>\n          </MovieCard>\n\n          <hr></hr>\n\n          <AdditionalInfo />\n\n          <hr></hr>\n\n          <Suspense fallback={<Loader />}>\n            <Outlet />\n          </Suspense>\n        </div>\n      ) : (\n        <Loader />\n      )}\n    </>\n  );\n};\n\nexport default MoviePage;\n","import axios from 'axios';\n\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\n\nclass API {\n  constructor() {\n    this.apiKey = 'c4665b1bb83f92274dd3017d4b062627';\n  }\n\n  async getTrendingMovies() {\n    try {\n      const response = await axios.get('/trending/movie/week', {\n        params: {\n          api_key: this.apiKey,\n        },\n      });\n      return response.data.results;\n    } catch (error) {\n      console.error('Error getting trending movies:', error);\n      throw error;\n    }\n  }\n\n  async searchMovies(query) {\n    try {\n      const response = await axios.get('/search/movie', {\n        params: {\n          api_key: this.apiKey,\n          query: query,\n        },\n      });\n      return response.data.results;\n    } catch (error) {\n      console.error('Error searching movies:', error);\n      throw error;\n    }\n  }\n\n  async getMovieDetails(movieId) {\n    try {\n      const response = await axios.get(`/movie/${movieId}`, {\n        params: {\n          api_key: this.apiKey,\n        },\n      });\n      return response.data;\n    } catch (error) {\n      console.error('Error getting movie details:', error);\n      throw error;\n    }\n  }\n\n  async getMovieCast(movieId) {\n    try {\n      const response = await axios.get(`/movie/${movieId}/credits`, {\n        params: {\n          api_key: this.apiKey,\n        },\n      });\n      return response.data;\n    } catch (error) {\n      console.error('Error getting movie details:', error);\n      throw error;\n    }\n  }\n\n  async getMovieReviews(movieId) {\n    try {\n      const response = await axios.get(`/movie/${movieId}/reviews`, {\n        params: {\n          api_key: this.apiKey,\n        },\n      });\n      return response.data.results;\n    } catch (error) {\n      console.error('Error getting movie details:', error);\n      throw error;\n    }\n  }\n}\n\nexport default API;\n"],"names":["BackButton","styled","Link","MovieCard","Image","DetailContainer","MovieTitle","PartTitle","Text","AddInfoContainer","LinkList","LinkItem","MoreInfoLink","NavLink","AdditionalInfo","movieId","useParams","to","api","API","useState","movie","setMovie","lastLocation","setlastLocation","isLoading","setLoading","location","useLocation","useEffect","pathname","includes","backLinkHref","state","from","fetchMovies","getMovieDetails","movieById","genres","poster_path","title","vote_average","overview","genresList","map","genre","name","Loader","src","defaultMovieImg","alt","Number","toFixed","length","join","Suspense","fallback","axios","this","apiKey","params","api_key","response","data","results","console","error","query"],"sourceRoot":""}